{"version":3,"sources":["App.js","index.js"],"names":["App","props","numbers","state","lightOn","isUsed","seon","bind","turnOnLight","id","this","setState","prevState","setTimeout","i","setInterval","toString","bridge","send","setlighton","turnon","onClick","React","Component","Button","setlhton","parseInt","ReactDOM","render","document","getElementById"],"mappings":"wOAOMA,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAOVC,QAAU,CAAC,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,GANhG,EAAKC,MAAQ,CAACC,SAAS,EAAOC,QAAS,GAEvC,EAAKC,KAAO,EAAKA,KAAKC,KAAV,gBACZ,EAAKC,YAAc,EAAKA,YAAYD,KAAjB,gBALJ,E,wCAYnB,SAAKE,GAKD,OAJKC,KAAKP,MAAMC,UACZM,KAAKC,WACLD,KAAKR,QAAQO,IAAOC,KAAKR,QAAQO,IAE9BC,KAAKP,MAAMC,U,yBAGtB,WAAe,IAAD,OACVM,KAAKC,UAAS,SAAAC,GAAS,MAAK,CACxBR,SAAUQ,EAAUR,QACpBC,QAASO,EAAUP,WACvBQ,YAAW,WACP,IAAIC,EAAE,EACNC,aAAY,WACJ,EAAKZ,MAAME,SACP,EAAKH,QAAQY,EAAEE,YAEfC,IAAOC,KAAK,wBAAyB,CAAC,MAAS,IAE/CD,IAAOC,KAAK,wBAAyB,CAAC,MAAS,IAEnDJ,GAAKA,EAAE,GAAK,KAElB,OACH,O,oBAIP,WACI,OACI,gCAEI,cAAC,EAAD,CAAQK,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAC7C,cAAC,EAAD,CAAQiB,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAC7C,cAAC,EAAD,CAAQiB,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAC7C,cAAC,EAAD,CAAQiB,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAC7C,cAAC,EAAD,CAAQiB,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAC7C,cAAC,EAAD,CAAQiB,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAC7C,cAAC,EAAD,CAAQiB,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAC7C,cAAC,EAAD,CAAQiB,WAAYT,KAAKJ,KAAMc,OAAQV,KAAKR,QAAQ,GAC5CO,GAAI,IADZ,SACkBC,KAAKR,QAAQ,GAAO,KAAO,QAG7C,wBAAQmB,QAASX,KAAKF,YAAtB,SACKE,KAAKP,MAAMC,QAAU,8FAAqB,6G,GAjE7CkB,IAAMC,WAwElBC,E,kDACF,WAAYvB,GAAQ,IAAD,8BACf,cAAMA,IACDE,MAAQ,CAACiB,OAAQnB,EAAMmB,QAC5B,EAAKK,SAAW,EAAKA,SAASlB,KAAd,gBAHD,E,4CAMnB,WACQG,KAAKT,MAAMkB,WAAWT,KAAKT,MAAMQ,KACjCC,KAAKC,UAAS,SAAAC,GAAS,MAAK,CACxBQ,QAASR,EAAUQ,a,oBAI/B,WACI,OACI,yBAAQC,QAASX,KAAKe,SAAtB,UACOC,SAAShB,KAAKT,MAAMQ,IAAIiB,SAAS,GAAK,KACrChB,KAAKP,MAAMiB,OAAU,KAAO,a,GAlB3BE,IAAMC,WAyBZvB,IClGfiB,IAAOC,KAAK,gBAEZS,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.3002016f.chunk.js","sourcesContent":["import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {View, ScreenSpinner, AdaptivityProvider, AppRoot} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {number} from \"prop-types\";\r\n\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {lightOn: false, isUsed : false};\r\n\r\n        this.seon = this.seon.bind(this);\r\n        this.turnOnLight = this.turnOnLight.bind(this);\r\n    }\r\n\r\n    numbers = {\"0\": false, \"1\": false, \"2\": false, \"3\": false, \"4\": false, \"5\": false, \"6\": false, \"7\": false}\r\n\r\n\r\n\r\n    seon(id) {\r\n        if (!this.state.lightOn) {\r\n            this.setState();\r\n            this.numbers[id] = !this.numbers[id];\r\n        }\r\n        return this.state.lightOn\r\n    }\r\n\r\n    turnOnLight() {\r\n        this.setState(prevState => ({\r\n            lightOn: !prevState.lightOn,\r\n            isUsed: !prevState.isUsed}));\r\n        setTimeout(() => {\r\n            let i=0\r\n            setInterval(()=>{\r\n                if (this.state.isUsed){\r\n                    if (this.numbers[i.toString()]) {\r\n\r\n                        bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1});\r\n                    } else {\r\n                        bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0});\r\n                    }\r\n                    i = (i+1) % 8;\r\n                }\r\n            },1000)\r\n        }, 1000);\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/*<NumberList numbers={this.numbers} setLightOn={this.setLightOn}/>*/}\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"0\"]}\r\n                        id={\"0\"}>{this.numbers[\"0\"] ? \"on\" : \"off\"}</Button>\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"1\"]}\r\n                        id={\"1\"}>{this.numbers[\"1\"] ? \"on\" : \"off\"}</Button>\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"2\"]}\r\n                        id={\"2\"}>{this.numbers[\"2\"] ? \"on\" : \"off\"}</Button>\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"3\"]}\r\n                        id={\"3\"}>{this.numbers[\"3\"] ? \"on\" : \"off\"}</Button>\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"4\"]}\r\n                        id={\"4\"}>{this.numbers[\"4\"] ? \"on\" : \"off\"}</Button>\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"5\"]}\r\n                        id={\"5\"}>{this.numbers[\"5\"] ? \"on\" : \"off\"}</Button>\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"6\"]}\r\n                        id={\"6\"}>{this.numbers[\"6\"] ? \"on\" : \"off\"}</Button>\r\n                <Button setlighton={this.seon} turnon={this.numbers[\"7\"]}\r\n                        id={\"7\"}>{this.numbers[\"7\"] ? \"on\" : \"off\"}</Button>\r\n\r\n\r\n                <button onClick={this.turnOnLight}>\r\n                    {this.state.lightOn ? \"Включить фонарик\" : \"Выключить фонарик\"}\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Button extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {turnon: props.turnon};\r\n        this.setlhton = this.setlhton.bind(this);\r\n    }\r\n\r\n    setlhton() {\r\n        if(!this.props.setlighton(this.props.id))\r\n            this.setState(prevState => ({\r\n                turnon: !prevState.turnon\r\n            }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button onClick={this.setlhton}>\r\n                { (parseInt(this.props.id)+parseInt(1)) +\")\"}\r\n                { + this.state.turnon ?  \"on\" : \"off\"}\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n"],"sourceRoot":""}