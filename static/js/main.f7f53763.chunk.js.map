{"version":3,"sources":["App.js","index.js"],"names":["App","props","numbers","isUsed","state","lightOn","setLightOn","bind","turnOnLight","id","this","i","length","bridge","send","setTimeout","NumberList","onClick","turnOn","React","Component","Button","setState","prevState","listItems","Object","entries","map","number","key","ReactDOM","render","document","getElementById"],"mappings":"wOAMMA,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAOVC,QAAU,CAAC,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,GARjF,EAUnBC,QAAS,EARL,EAAKC,MAAQ,CAACC,SAAS,GAEvB,EAAKC,WAAa,EAAKA,WAAWC,KAAhB,gBAClB,EAAKC,YAAc,EAAKA,YAAYD,KAAjB,gBALJ,E,8CAYnB,SAAWE,GACPC,KAAKR,QAAQO,IAAOC,KAAKR,QAAQO,K,yBAGrC,WACI,KAAOC,KAAKP,QACR,IAAK,IAAIQ,EAAI,EAAGA,EAAID,KAAKR,QAAQU,OAAQD,IACjCD,KAAKR,QAAQS,IACbE,IAAOC,KAAK,wBAAyB,CAAC,MAAS,IAC/CC,YAAW,cACR,OAEHF,IAAOC,KAAK,wBAAyB,CAAC,MAAS,IAC/CC,YAAW,cACR,MAEPJ,GAAKD,KAAKR,QAAQU,S,oBAI9B,WACI,OACI,gCACI,cAACI,EAAD,CAAYd,QAASQ,KAAKR,QAASI,WAAYI,KAAKJ,eACpD,wBAAQW,QAASP,KAAKJ,WAAtB,SACKI,KAAKN,MAAMc,OAAS,KAAO,e,GAtC9BC,IAAMC,WA6ClBC,E,kDACF,WAAYpB,GAAQ,IAAD,8BACf,cAAMA,IACDG,MAAQ,CAACc,OAAQjB,EAAMiB,QAC5B,EAAKT,GAAK,EAAKR,MAAMQ,GACrB,EAAKH,WAAa,EAAKA,WAAWC,KAAhB,gBAJH,E,8CAOnB,WACIG,KAAKT,MAAMK,WAAW,CAACG,QACvBC,KAAKY,UAAS,SAAAC,GAAS,MAAK,CACxBL,QAASK,EAAUL,a,oBAI3B,WACI,OACI,wBAAQD,QAASP,KAAKJ,WAAtB,SACKI,KAAKN,MAAMc,OAAS,KAAO,Y,GAlBvBC,IAAMC,WAyB3B,SAASJ,EAAWf,GAChB,IAAMC,EAAUD,EAAMC,QAChBsB,EAAYC,OAAOC,QAAQxB,GAASyB,KAAI,SAACC,GAAD,OAAY,cAAC,EAAD,CAAQnB,GAAImB,EAAOC,IAAKvB,WAAYL,EAAMK,gBAKpG,OACI,6BACKkB,IAKExB,QCpFfa,IAAOC,KAAK,gBAEZgB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.f7f53763.chunk.js","sourcesContent":["import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {View, ScreenSpinner, AdaptivityProvider, AppRoot} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {lightOn: false};\r\n\r\n        this.setLightOn = this.setLightOn.bind(this);\r\n        this.turnOnLight = this.turnOnLight.bind(this);\r\n    }\r\n\r\n    numbers = {\"0\": false, \"1\": false, \"2\": false, \"3\": false, \"4\": false, \"5\": false, \"6\": false, \"7\": false}\r\n\r\n    isUsed = false;\r\n\r\n    setLightOn(id) {\r\n        this.numbers[id] = !this.numbers[id];\r\n    }\r\n\r\n    turnOnLight() {\r\n        while (this.isUsed)\r\n            for (let i = 0; i < this.numbers.length; i++) {\r\n                if (this.numbers[i]) {\r\n                    bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1});\r\n                    setTimeout(() => {\r\n                    }, 1000);\r\n                } else {\r\n                    bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0});\r\n                    setTimeout(() => {\r\n                    }, 1000);\r\n                }\r\n                i %= this.numbers.length;\r\n            }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NumberList numbers={this.numbers} setLightOn={this.setLightOn()}/>\r\n                <button onClick={this.setLightOn}>\r\n                    {this.state.turnOn ? \"on\" : \"off\"}\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Button extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {turnOn: props.turnOn};\r\n        this.id = this.props.id\r\n        this.setLightOn = this.setLightOn.bind(this);\r\n    }\r\n\r\n    setLightOn() {\r\n        this.props.setLightOn({id});\r\n        this.setState(prevState => ({\r\n            turnOn: !prevState.turnOn\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button onClick={this.setLightOn}>\r\n                {this.state.turnOn ? \"on\" : \"off\"}\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction NumberList(props) {\r\n    const numbers = props.numbers;\r\n    const listItems = Object.entries(numbers).map((number) => <Button id={number.key} setLightOn={props.setLightOn}/>\r\n    //const listItems = numbers.values.map((number) => <Button id={number.id.toString()} setLightOn={props.setLightOn}/>\r\n\r\n    );\r\n\r\n    return (\r\n        <ul>\r\n            {listItems}\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}